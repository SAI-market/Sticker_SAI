<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SAI Stickers - Catálogo</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <div id="previewModal" class="cart-modal hidden">
    <div class="cart-content" style="max-width: 600px; text-align: center;">
      <button id="closePreview" class="close-btn">X</button>
      <img id="previewImg" src="" style="max-width: 100%; max-height: 70vh; border-radius: 12px; margin-bottom: 15px; object-fit: contain;">
      <h2 id="previewName"></h2>
    </div>
  </div>

  <div id="cartModal" class="cart-modal hidden">
    <div class="cart-content">
      <button id="closeCart" class="close-btn">X</button>
      <h2>Tu carrito</h2>
      
      <div class="promo-container">
        <div class="promo-bar-wrapper">
          <div class="promo-label">Stickers Base: <span id="stickerPromoText" style="color:var(--neon); font-weight:bold;">0/15 para 10% off</span></div>
          <div class="progress-bg"><div class="progress-fill" id="stickerProgress"></div></div>
        </div>
        <div class="promo-bar-wrapper">
          <div class="promo-label">Vinilos: <span id="viniloPromoText" style="color:var(--neon); font-weight:bold;">0/15 para 10% off</span></div>
          <div class="progress-bg"><div class="progress-fill" id="viniloProgress"></div></div>
        </div>
      </div>

      <div id="cartItems" class="cart-items" style="max-height: 35vh; overflow-y: auto; margin: 15px 0; padding-right: 10px;"></div>
      
      <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin-bottom: 15px;">
        <h3 style="font-size: 1.1rem; margin-bottom: 10px;">Método de entrega:</h3>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 8px;">
          <input type="radio" name="shipping" value="retiro" checked /> Retiro en persona (Gratis)
        </label>
        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
          <input type="radio" name="shipping" value="envio" /> Envío ($1500)
        </label>
      </div>

      <div class="cart-actions">
        <div id="cartSummary" class="cart-summary" style="font-size: 1.1rem; margin-bottom: 15px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 10px; text-align: right; line-height: 1.5;"></div>
        <div class="cart-buttons" style="display:flex; gap:10px;">
          <button id="clearCart" style="padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); background:transparent; color:var(--text); cursor:pointer; flex:1;">Vaciar</button>
          <button id="checkoutBtn" class="primary" style="flex:2;">Pagar por WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <div id="sizeModal" class="cart-modal hidden">
    <div class="cart-content" style="max-width: 400px; text-align: center;">
      <button id="closeSizeModal" class="close-btn">X</button>
      
      <h3 style="margin-bottom: 10px;">1. Elegir Material</h3>
      <div class="material-options-row" style="display:flex; gap:10px; justify-content:center; margin-bottom: 20px;">
        <button class="material-option active" data-material="sticker">Sticker Base</button>
        <button class="material-option" data-material="vinilo">Vinilo (Resistente)</button>
      </div>

      <h3 style="margin-bottom: 10px;">2. Elegir Medida</h3>
      <div class="size-options-row" style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
        <button class="size-option" data-size="4x4">4x4</button>
        <button class="size-option" data-size="5x5">5x5</button>
        <button class="size-option" data-size="6x6">6x6</button>
        <button class="size-option" data-size="especial">Especial</button>
      </div>
      <div id="specialSizeInput" style="display:none; margin-top:10px;">
        <input id="customSize" placeholder="Ej: 8x10" style="width:100%; padding:10px; border-radius:8px; border:none; background:rgba(255,255,255,0.1); color:var(--text);" />
      </div>

      <div id="priceDisplay" style="font-size: 1.3rem; font-weight: 800; margin: 20px 0; color: var(--neon);">
        Selecciona para ver precio
      </div>

      <button id="confirmSizeBtn" class="primary" style="width:100%;">Confirmar y Agregar</button>
    </div>
  </div>

  <div id="contactModal" class="cart-modal hidden">
    <div class="cart-content">
      <button id="closeContact" class="close-btn">X</button>
      <h2>Contacto</h2>
      <div style="margin:12px 0;">
        <p>Escribe tu consulta y se enviará directamente a WhatsApp:</p>
        <textarea id="contactMessage" placeholder="Escribí tu consulta..." style="width:100%;height:120px;padding:10px;border-radius:8px;border:none;resize:vertical;background:rgba(255,255,255,0.05);color:var(--text); margin-top:10px;"></textarea>
      </div>
      <div style="display:flex;gap:8px;justify-content:flex-end;">
        <button id="contactClear" style="padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); background:transparent; color:var(--text); cursor:pointer;">Cerrar</button>
        <button id="contactSend" class="primary">Enviar</button>
      </div>
    </div>
  </div>

  <header class="topbar">
    <div class="brand">
      <div class="logo">SAI</div>
      <div class="title">Stickers</div>
    </div>
    <div class="controls">
      <div class="dark-mode-toggle" id="themeToggle">
        <div class="circle">
            <ion-icon class="sun" name="sunny"></ion-icon>
            <ion-icon class="moon" name="moon"></ion-icon>
        </div>
      </div>
      <input id="search" placeholder="Buscar stickers..." />
      <button id="contactBtn">Contacto</button>
      <button id="cartBtn">Carrito (<span id="cartCount">0</span>)</button>
    </div>
  </header>

  <main>
    <div id="categoriesContainer" class="categories-container"></div>
    <section id="gallery" class="gallery"></section>
  </main>

  <footer class="footer"><small>SAI Stickers • Catálogo</small></footer>

  <button id="scrollTopBtn" class="scroll-top-btn hidden" title="Volver arriba">⬆️</button>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="js/app.js" type="module"></script>
</body>
</html>